{% extends 'core/base.html' %}
{% load static %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto mt-12 bg-slate-900 text-white p-8 rounded-2xl shadow-lg">

    <!-- Flash messages -->
    {% if messages %}
        <div id="popup-message" class="fixed top-6 right-6 bg-green-600 text-white font-medium px-6 py-3 rounded-xl shadow-lg z-50 transition-opacity duration-500">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        </div>
        <script>
            setTimeout(() => {
                const popup = document.getElementById('popup-message');
                if (popup) {
                    popup.style.opacity = '0';
                    setTimeout(() => popup.remove(), 500);
                }
            }, 3000);
        </script>
    {% endif %}

    <h1 class="text-3xl font-bold mb-6 text-center">Edit Your Profile</h1>

    <form method="post" class="space-y-6">
        {% csrf_token %}

        {% for field in form %}
            <div>
                <label for="{{ field.id_for_label }}" class="block text-sm font-semibold mb-2">
                    {{ field.label }}
                </label>
                {{ field }}
                {% if field.errors %}
                    <p class="text-red-400 text-sm mt-1">{{ field.errors|striptags }}</p>
                {% endif %}
            </div>
        {% endfor %}

        <button type="submit" class="w-full bg-teal-500 hover:bg-teal-600 text-white py-3 px-6 rounded-xl font-semibold transition duration-300">
            Save Changes
        </button>
    </form>
</div>
{% endblock %}
